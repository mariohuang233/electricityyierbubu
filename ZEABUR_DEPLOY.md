# ğŸš€ Zeabur å…¨æ ˆä¸€é”®éƒ¨ç½²æŒ‡å—

## é—®é¢˜è§£å†³

### ä¿®å¤å‰ç«¯æ„å»ºé”™è¯¯

é‡åˆ°çš„ `react-scripts: not found` é”™è¯¯å·²ä¿®å¤ï¼š

1. **ç§»åŠ¨ react-scripts åˆ° dependencies**
   - ä» `devDependencies` ç§»åŠ¨åˆ° `dependencies`
   - ç¡®ä¿ç”Ÿäº§æ„å»ºæ—¶å¯ç”¨

2. **ä¼˜åŒ–æ„å»ºå‘½ä»¤**
   - ä½¿ç”¨ `npm install` è€Œä¸æ˜¯ `npm ci`
   - ç¡®ä¿æ‰€æœ‰ä¾èµ–æ­£ç¡®å®‰è£…

## ğŸš€ Zeabur ä¸€é”®éƒ¨ç½²

### æ–¹æ³•ä¸€ï¼šä½¿ç”¨ç®€åŒ–é…ç½®ï¼ˆæ¨èï¼‰

```bash
# 1. å…‹éš†é¡¹ç›®
git clone https://github.com/mariohuang233/electricityyierbubu.git
cd electricityyierbubu

# 2. ä½¿ç”¨ç®€åŒ–é…ç½®
cp zeabur-simple.json zeabur.json

# 3. æ¨é€åˆ° GitHub
git add .
git commit -m "ä½¿ç”¨ç®€åŒ– Zeabur é…ç½®"
git push origin main
```

### æ–¹æ³•äºŒï¼šä½¿ç”¨éƒ¨ç½²è„šæœ¬

```bash
# ä½¿ç”¨å…¨æ ˆéƒ¨ç½²è„šæœ¬
./deploy-stack.sh zeabur
```

## ğŸŒ Zeabur éƒ¨ç½²æ­¥éª¤

### 1. è®¿é—® Zeabur æ§åˆ¶å°
- æ‰“å¼€ [zeabur.com](https://zeabur.com)
- ä½¿ç”¨ GitHub è´¦å·ç™»å½•

### 2. åˆ›å»ºæ–°é¡¹ç›®
- ç‚¹å‡» "New Project"
- é€‰æ‹© "Import from GitHub"
- é€‰æ‹©ä»“åº“ï¼š`mariohuang233/electricityyierbubu`

### 3. è‡ªåŠ¨æœåŠ¡åˆ›å»º
ç³»ç»Ÿä¼šè‡ªåŠ¨è¯†åˆ« `zeabur.json` é…ç½®ï¼Œåˆ›å»ºä¸¤ä¸ªæœåŠ¡ï¼š
- **backend** - Node.js åç«¯æœåŠ¡
- **frontend** - React å‰ç«¯é™æ€æœåŠ¡

### 4. é…ç½®ç¯å¢ƒå˜é‡

#### Backend æœåŠ¡ç¯å¢ƒå˜é‡
```
MONGO_URI=mongodb+srv://username:password@cluster.mongodb.net/database
PORT=3001
NODE_ENV=production
CRON_EXPRESSION=*/10 * * * *
METER_URL=http://www.wap.cnyiot.com/nat/pay.aspx?mid=18100071580
ELECTRICITY_RATE=1.0
LOG_LEVEL=info
```

#### Frontend æœåŠ¡ç¯å¢ƒå˜é‡
```
REACT_APP_API_URL=https://backend-{service-id}.zeabur.app
```

**æ³¨æ„**ï¼š`{service-id}` éœ€è¦æ›¿æ¢ä¸ºå®é™…çš„ backend æœåŠ¡ ID

### 5. éƒ¨ç½²å®Œæˆ
- ç­‰å¾…æ„å»ºå®Œæˆ
- è·å–æœåŠ¡åŸŸå
- è®¿é—®å‰ç«¯åº”ç”¨

## ğŸ”§ é…ç½®è¯´æ˜

### ç®€åŒ–é…ç½® (zeabur-simple.json)
```json
{
  "name": "electricity-monitor",
  "services": [
    {
      "name": "backend",
      "buildCommand": "cd backend && npm install && npm start",
      "startCommand": "cd backend && npm start",
      "environment": "node",
      "port": 3001
    },
    {
      "name": "frontend", 
      "buildCommand": "cd frontend && npm install && npm run build",
      "outputDir": "frontend/build",
      "environment": "static"
    }
  ]
}
```

### å®Œæ•´é…ç½® (zeabur.json)
åŒ…å«å¥åº·æ£€æŸ¥ã€èµ„æºé™åˆ¶ã€ç½‘ç»œé…ç½®ç­‰é«˜çº§åŠŸèƒ½ã€‚

## ğŸ› ï¸ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **react-scripts: not found**
   - âœ… å·²ä¿®å¤ï¼šå°† react-scripts ç§»åˆ° dependencies
   - ç¡®ä¿ä½¿ç”¨ `npm install` è€Œä¸æ˜¯ `npm ci`

2. **æ„å»ºå¤±è´¥**
   - æ£€æŸ¥ Node.js ç‰ˆæœ¬å…¼å®¹æ€§
   - ç¡®ä¿æ‰€æœ‰ä¾èµ–æ­£ç¡®å®‰è£…
   - æŸ¥çœ‹æ„å»ºæ—¥å¿—

3. **æœåŠ¡æ— æ³•å¯åŠ¨**
   - æ£€æŸ¥ç¯å¢ƒå˜é‡é…ç½®
   - éªŒè¯ç«¯å£è®¾ç½®
   - æŸ¥çœ‹æœåŠ¡æ—¥å¿—

4. **å‰ç«¯æ— æ³•è¿æ¥åç«¯**
   - æ£€æŸ¥ REACT_APP_API_URL é…ç½®
   - ç¡®ä¿åç«¯æœåŠ¡æ­£å¸¸è¿è¡Œ
   - éªŒè¯ CORS è®¾ç½®

### è°ƒè¯•æ­¥éª¤

1. **æŸ¥çœ‹æ„å»ºæ—¥å¿—**
   - åœ¨ Zeabur æ§åˆ¶å°æŸ¥çœ‹æ„å»ºæ—¥å¿—
   - æ£€æŸ¥ä¾èµ–å®‰è£…è¿‡ç¨‹
   - éªŒè¯æ„å»ºå‘½ä»¤æ‰§è¡Œ

2. **æ£€æŸ¥æœåŠ¡çŠ¶æ€**
   - æŸ¥çœ‹æœåŠ¡å¥åº·çŠ¶æ€
   - éªŒè¯ç«¯å£é…ç½®
   - æ£€æŸ¥èµ„æºä½¿ç”¨æƒ…å†µ

3. **æµ‹è¯• API è¿æ¥**
   - è®¿é—®åç«¯å¥åº·æ£€æŸ¥ç«¯ç‚¹
   - æµ‹è¯• API æ¥å£
   - éªŒè¯æ•°æ®åº“è¿æ¥

## ğŸ“Š éƒ¨ç½²æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Zeabur Platform           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   Frontend      â”‚   Backend         â”‚
â”‚   (Static)      â”‚   (Node.js)       â”‚
â”‚   *.zeabur.app  â”‚   *.zeabur.app    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚   MongoDB       â”‚
            â”‚   (Atlas)       â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ¯ æœ€ä½³å®è·µ

1. **ç¯å¢ƒå˜é‡ç®¡ç†**
   - ä½¿ç”¨ Zeabur çš„ç¯å¢ƒå˜é‡åŠŸèƒ½
   - ä¿æŠ¤æ•æ„Ÿä¿¡æ¯
   - åŒºåˆ†å¼€å‘å’Œç”Ÿäº§ç¯å¢ƒ

2. **æœåŠ¡ç›‘æ§**
   - å¯ç”¨å¥åº·æ£€æŸ¥
   - ç›‘æ§èµ„æºä½¿ç”¨
   - è®¾ç½®å‘Šè­¦é€šçŸ¥

3. **ç‰ˆæœ¬ç®¡ç†**
   - ä½¿ç”¨ Git æ ‡ç­¾ç®¡ç†ç‰ˆæœ¬
   - æ”¯æŒå›æ»šéƒ¨ç½²
   - ä¿æŒé…ç½®åŒæ­¥

## ğŸš€ å¿«é€Ÿéƒ¨ç½²å‘½ä»¤

```bash
# ä¸€é”®éƒ¨ç½²åˆ° Zeabur
./deploy-stack.sh zeabur

# æˆ–æ‰‹åŠ¨éƒ¨ç½²
git add .
git commit -m "éƒ¨ç½²åˆ° Zeabur"
git push origin main
```

## ğŸ“ æŠ€æœ¯æ”¯æŒ

å¦‚æœé‡åˆ°é—®é¢˜ï¼š

1. æŸ¥çœ‹ Zeabur æ„å»ºæ—¥å¿—
2. æ£€æŸ¥ç¯å¢ƒå˜é‡é…ç½®
3. éªŒè¯æœåŠ¡çŠ¶æ€
4. åœ¨ GitHub æäº¤ Issue

---

**æ³¨æ„**ï¼šç¡®ä¿åœ¨ç”Ÿäº§ç¯å¢ƒä¸­å¦¥å–„ä¿æŠ¤æ•æ„Ÿä¿¡æ¯ï¼Œå¦‚æ•°æ®åº“è¿æ¥å­—ç¬¦ä¸²ç­‰ã€‚
