{
  "name": "electricity-monitor",
  "description": "家庭用电监控与可视化系统 - 全栈应用",
  "version": "1.0.0",
  "services": [
    {
      "name": "backend",
      "description": "Node.js 后端 API 服务",
      "buildCommand": "cd backend && npm ci --only=production",
      "startCommand": "cd backend && npm start",
      "environment": "node",
      "port": 3001,
      "healthCheck": {
        "path": "/api/health",
        "port": 3001,
        "interval": 30,
        "timeout": 10,
        "retries": 3
      },
      "env": {
        "NODE_ENV": "production",
        "PORT": "3001",
        "LOG_LEVEL": "info"
      },
      "resources": {
        "cpu": "0.5",
        "memory": "512Mi"
      }
    },
    {
      "name": "frontend",
      "description": "React 前端静态应用",
      "buildCommand": "cd frontend && npm ci && npm run build",
      "outputDir": "frontend/build",
      "environment": "static",
      "env": {
        "REACT_APP_API_URL": "https://backend-{service-id}.zeabur.app"
      },
      "resources": {
        "cpu": "0.25",
        "memory": "256Mi"
      }
    }
  ],
  "networks": [
    {
      "name": "electricity-network",
      "type": "internal"
    }
  ],
  "volumes": [
    {
      "name": "logs",
      "type": "persistent",
      "size": "1Gi"
    }
  ]
}