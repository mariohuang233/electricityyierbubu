# ğŸ”„ æ··åˆéƒ¨ç½²è§£å†³æ–¹æ¡ˆ

## é—®é¢˜åˆ†æ

Zeabur å‰ç«¯æ„å»ºæŒç»­å¤±è´¥ï¼ŒåŸå› æ˜¯ï¼š
1. æ„å»ºç¯å¢ƒç¼ºå°‘å¿…è¦çš„ä¾èµ–
2. react-scripts åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ä¸å¯ç”¨
3. å¤šæœåŠ¡æ„å»ºé…ç½®å¤æ‚

## ğŸš€ æ¨èè§£å†³æ–¹æ¡ˆ

### æ–¹æ¡ˆä¸€ï¼šåç«¯ Zeabur + å‰ç«¯ Vercelï¼ˆæ¨èï¼‰

#### åç«¯éƒ¨ç½²åˆ° Zeabur
```bash
# ä½¿ç”¨åç«¯ä¸“ç”¨é…ç½®
cp zeabur-backend-only.json zeabur.json
git add .
git commit -m "ä½¿ç”¨åç«¯ä¸“ç”¨ Zeabur é…ç½®"
git push origin main
```

**Zeabur é…ç½®ï¼š**
- åªéƒ¨ç½²åç«¯ Node.js æœåŠ¡
- é¿å…å‰ç«¯æ„å»ºé—®é¢˜
- ä¸“æ³¨äº API æœåŠ¡

#### å‰ç«¯éƒ¨ç½²åˆ° Vercel
```bash
# 1. è®¿é—® vercel.com
# 2. è¿æ¥ GitHub ä»“åº“
# 3. è®¾ç½®æ ¹ç›®å½•ä¸º frontend/
# 4. é…ç½®ç¯å¢ƒå˜é‡ REACT_APP_API_URL
```

**Vercel ä¼˜åŠ¿ï¼š**
- âœ… å®Œå…¨å…è´¹ï¼Œæ”¯æŒè‡ªå®šä¹‰åŸŸå
- âœ… é›¶é…ç½®ï¼Œè‡ªåŠ¨è¯†åˆ« React é¡¹ç›®
- âœ… å…¨çƒ CDNï¼Œè®¿é—®é€Ÿåº¦æå¿«
- âœ… è‡ªåŠ¨éƒ¨ç½²ï¼ŒGitHub æ¨é€å³éƒ¨ç½²

### æ–¹æ¡ˆäºŒï¼šå…¨æ ˆ Docker éƒ¨ç½²

#### ä½¿ç”¨ Docker Compose
```bash
# æœ¬åœ° Docker éƒ¨ç½²
./deploy-stack.sh docker

# æˆ–æ‰‹åŠ¨éƒ¨ç½²
docker-compose up -d --build
```

**Docker ä¼˜åŠ¿ï¼š**
- âœ… ç¯å¢ƒä¸€è‡´ï¼Œé¿å…æ„å»ºé—®é¢˜
- âœ… æ”¯æŒå…¨æ ˆéƒ¨ç½²
- âœ… æœ¬åœ°å¼€å‘å‹å¥½

### æ–¹æ¡ˆä¸‰ï¼šRailway åç«¯ + Vercel å‰ç«¯

#### Railway åç«¯éƒ¨ç½²
```bash
# ä½¿ç”¨ Railway éƒ¨ç½²åç«¯
./deploy-stack.sh railway
```

#### Vercel å‰ç«¯éƒ¨ç½²
```bash
# è®¿é—® vercel.com éƒ¨ç½²å‰ç«¯
```

## ğŸ”§ å…·ä½“éƒ¨ç½²æ­¥éª¤

### 1. Zeabur åç«¯éƒ¨ç½²

1. **ä½¿ç”¨åç«¯ä¸“ç”¨é…ç½®**
   ```bash
   cp zeabur-backend-only.json zeabur.json
   ```

2. **è®¿é—® Zeabur æ§åˆ¶å°**
   - æ‰“å¼€ [zeabur.com](https://zeabur.com)
   - å¯¼å…¥ GitHub ä»“åº“

3. **é…ç½®ç¯å¢ƒå˜é‡**
   ```
   MONGO_URI=mongodb+srv://username:password@cluster.mongodb.net/database
   PORT=3001
   NODE_ENV=production
   CRON_EXPRESSION=*/10 * * * *
   METER_URL=http://www.wap.cnyiot.com/nat/pay.aspx?mid=18100071580
   ELECTRICITY_RATE=1.0
   LOG_LEVEL=info
   ```

4. **è·å–åç«¯åŸŸå**
   - è®°å½•åç«¯æœåŠ¡åŸŸå
   - ç”¨äºå‰ç«¯ API é…ç½®

### 2. Vercel å‰ç«¯éƒ¨ç½²

1. **è®¿é—® Vercel æ§åˆ¶å°**
   - æ‰“å¼€ [vercel.com](https://vercel.com)
   - ä½¿ç”¨ GitHub è´¦å·ç™»å½•

2. **å¯¼å…¥é¡¹ç›®**
   - é€‰æ‹©ä»“åº“ï¼š`mariohuang233/electricityyierbubu`
   - è®¾ç½®æ ¹ç›®å½•ä¸º `frontend/`

3. **é…ç½®ç¯å¢ƒå˜é‡**
   ```
   REACT_APP_API_URL=https://backend-xxx.zeabur.app
   ```

4. **è‡ªåŠ¨éƒ¨ç½²**
   - Vercel è‡ªåŠ¨è¯†åˆ« React é¡¹ç›®
   - è‡ªåŠ¨æ„å»ºå’Œéƒ¨ç½²

## ğŸ“Š éƒ¨ç½²æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Vercel        â”‚    â”‚   Zeabur        â”‚
â”‚   (Frontend)    â”‚â—„â”€â”€â”€â”¤   (Backend)     â”‚
â”‚   *.vercel.app  â”‚    â”‚   *.zeabur.app  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                        â”‚   MongoDB       â”‚
                        â”‚   (Atlas)       â”‚
                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ¯ ä¼˜åŠ¿å¯¹æ¯”

| æ–¹æ¡ˆ | ä¼˜åŠ¿ | åŠ£åŠ¿ | æ¨èåº¦ |
|------|------|------|--------|
| **Zeabur + Vercel** | å…è´¹ã€ç¨³å®šã€å¿«é€Ÿ | éœ€è¦ä¸¤ä¸ªå¹³å° | â­â­â­â­â­ |
| **Docker å…¨æ ˆ** | ç¯å¢ƒä¸€è‡´ã€ç®€å• | éœ€è¦æœåŠ¡å™¨ | â­â­â­â­ |
| **Railway + Vercel** | ç®€å•æ˜“ç”¨ | Railway é™åˆ¶å¤š | â­â­â­ |

## ğŸš€ å¿«é€Ÿéƒ¨ç½²å‘½ä»¤

### æ··åˆéƒ¨ç½²ï¼ˆæ¨èï¼‰
```bash
# 1. åç«¯éƒ¨ç½²åˆ° Zeabur
cp zeabur-backend-only.json zeabur.json
git add . && git commit -m "åç«¯ä¸“ç”¨é…ç½®" && git push

# 2. å‰ç«¯éƒ¨ç½²åˆ° Vercel
# è®¿é—® vercel.com å¯¼å…¥é¡¹ç›®
```

### Docker å…¨æ ˆéƒ¨ç½²
```bash
# ä¸€é”® Docker éƒ¨ç½²
./deploy-stack.sh docker
```

## ğŸ”§ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **å‰ç«¯æ„å»ºå¤±è´¥**
   - ä½¿ç”¨ Vercel éƒ¨ç½²å‰ç«¯
   - é¿å… Zeabur å‰ç«¯æ„å»ºé—®é¢˜

2. **API è¿æ¥å¤±è´¥**
   - æ£€æŸ¥ REACT_APP_API_URL é…ç½®
   - ç¡®ä¿åç«¯æœåŠ¡æ­£å¸¸è¿è¡Œ

3. **CORS é—®é¢˜**
   - åç«¯éœ€è¦é…ç½® CORS
   - å…è®¸å‰ç«¯åŸŸåè®¿é—®

### è°ƒè¯•æ­¥éª¤

1. **æ£€æŸ¥åç«¯æœåŠ¡**
   ```bash
   curl https://backend-xxx.zeabur.app/api/health
   ```

2. **æ£€æŸ¥å‰ç«¯éƒ¨ç½²**
   - è®¿é—® Vercel åŸŸå
   - æŸ¥çœ‹æµè§ˆå™¨æ§åˆ¶å°é”™è¯¯

3. **æ£€æŸ¥ç¯å¢ƒå˜é‡**
   - ç¡®è®¤ API URL é…ç½®æ­£ç¡®
   - éªŒè¯åç«¯åŸŸåå¯è®¿é—®

## ğŸ“ æŠ€æœ¯æ”¯æŒ

å¦‚æœé‡åˆ°é—®é¢˜ï¼š

1. æŸ¥çœ‹ Vercel éƒ¨ç½²æ—¥å¿—
2. æ£€æŸ¥ Zeabur æœåŠ¡çŠ¶æ€
3. éªŒè¯ API è¿æ¥
4. åœ¨ GitHub æäº¤ Issue

---

**æ¨è**ï¼šä½¿ç”¨ Zeabur + Vercel æ··åˆéƒ¨ç½²æ–¹æ¡ˆï¼Œé¿å…æ„å»ºé—®é¢˜ï¼Œè·å¾—æœ€ä½³æ€§èƒ½ã€‚
